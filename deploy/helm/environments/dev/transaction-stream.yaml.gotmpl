image: 
    tag: {{ .StateValues.ci.tag }}

params:
  POSTGRES_DATABASE: radquest
  POSTGRES_HOST: radquest-dev-rds.rdx-works-main.internal
  POSTGRES_READ: radquest-dev-rds-ro.rdx-works-main.internal
  POSTGRES_PORT: 5432
  REDIS_HOST: radquest-dev-redis.rdx-works-main.internal
  REDIS_PORT: 6379
  REDIS_PASSWORD: ""
  LOG_LEVEL: debug
  PUBLIC_NETWORK_ID: 2
  GATEWAY_URL: https://stokenet.radixdlt.com

secrets:

  - external_secret_name: ro-transaction-database-url
    env_variable: "RO_DATABASE_URL"
    aws_secret_name: "rdx-works-main-dev/eks/radquest/dev/postgres"
    aws_secret_key: "ro-database-url"
    secret_key: "ro-database-url"

  - external_secret_name: transaction-stream-postgres-user
    env_variable: "POSTGRES_USER"
    aws_secret_name: "rdx-works-main-dev/eks/radquest/dev/postgres"
    aws_secret_key: "postgresqlUsername"
    secret_key: "transaction-stream-database-user"

  - external_secret_name: transaction-stream-postgres-pass
    env_variable: "POSTGRES_PASSWORD"
    aws_secret_name: "rdx-works-main-dev/eks/radquest/dev/postgres"
    aws_secret_key: "postgresql-password"
    secret_key: "transaction-stream-database-password"

ingress:
  enabled: false

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 2
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 70

resources:
  requests:
    cpu: 50m
    memory: 256Mi

pm2_metrics:
  enabled: true
  port: 9209

metrics:
  enabled: true
  port: 9210
  alert_labels:
    cluster: rdx-works-main-dev
    env: dev
